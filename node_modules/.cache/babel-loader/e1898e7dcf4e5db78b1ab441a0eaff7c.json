{"remainingRequest":"/home/daniel/edustreamx/node_modules/thread-loader/dist/cjs.js!/home/daniel/edustreamx/node_modules/babel-loader/lib/index.js!/home/daniel/edustreamx/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/daniel/edustreamx/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/daniel/edustreamx/src/components/ChatBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/daniel/edustreamx/src/components/ChatBox.vue","mtime":1554568208659},{"path":"/home/daniel/edustreamx/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/daniel/edustreamx/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/daniel/edustreamx/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/daniel/edustreamx/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/daniel/edustreamx/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//this.history.scrollTop = this.history.scrollHeight\nimport ChatMessage from './ChatMessage';\nexport default {\n  name: \"ChatBox\",\n  data: function data() {\n    return {\n      chatMessages: [],\n      cur_id: 0,\n      chat: \"\"\n    };\n  },\n  props: [\"socket\", \"username\"],\n  watch: {\n    socket: function socket(newval, oldval) {\n      this.socket = newval;\n      this.socket.receiveChat = this.receiveChat;\n    }\n  },\n  components: {\n    ChatMessage: ChatMessage\n  },\n  methods: {\n    addChat: function addChat() {\n      this.socket.sendMessage({\n        type: \"userChat\",\n        text: this.chat,\n        username: this.username\n      });\n    },\n    receiveChat: function receiveChat(text, username) {\n      // (from server)\n      var msg_obj = {\n        username: username,\n        message: text,\n        question: text.substr(-1) === '?',\n        id: this.cur_id++\n      };\n      this.chatMessages.push(msg_obj);\n      var chatdisplay = document.getElementById(\"chatdisplay\");\n      chatdisplay.scrollTop = chatdisplay.scrollHeight;\n    }\n  }\n};",{"version":3,"sources":["ChatBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAkBA;AACA,OAAA,WAAA,MAAA,eAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,EADA;AAEA,MAAA,MAAA,EAAA,CAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,KAAA,EAAA,CAAA,QAAA,EAAA,UAAA,CATA;AAUA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,kBACA,MADA,EACA,MADA,EACA;AACA,WAAA,MAAA,GAAA,MAAA;AACA,WAAA,MAAA,CAAA,WAAA,GAAA,KAAA,WAAA;AACA;AAJA,GAVA;AAgBA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAhBA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,WAAA,MAAA,CAAA,WAAA,CAAA;AACA,QAAA,IAAA,EAAA,UADA;AAEA,QAAA,IAAA,EAAA,KAAA,IAFA;AAGA,QAAA,QAAA,EAAA,KAAA;AAHA,OAAA;AAKA,KAPA;AAQA,IAAA,WARA,uBAQA,IARA,EAQA,QARA,EAQA;AAAA;AACA,UAAA,OAAA,GAAA;AACA,QAAA,QAAA,EAAA,QADA;AAEA,QAAA,OAAA,EAAA,IAFA;AAGA,QAAA,QAAA,EAAA,IAAA,CAAA,MAAA,CAAA,CAAA,CAAA,MAAA,GAHA;AAIA,QAAA,EAAA,EAAA,KAAA,MAAA;AAJA,OAAA;AAMA,WAAA,YAAA,CAAA,IAAA,CAAA,OAAA;AACA,UAAA,WAAA,GAAA,QAAA,CAAA,cAAA,CAAA,aAAA,CAAA;AACA,MAAA,WAAA,CAAA,SAAA,GAAA,WAAA,CAAA,YAAA;AACA;AAlBA;AAnBA,CAAA","sourcesContent":["<template>\n<div id=\"chatbox\">\n    <b-list-group id=\"chatdisplay\">\n        <ChatMessage\n            v-for=\"msg in chatMessages\"\n            v-bind:key=\"msg.id\"\n            v-bind:message=\"msg.username + ': ' + msg.message\"\n            v-bind:question=\"msg.question\"\n        ></ChatMessage>\n    </b-list-group>\n    <form v-on:submit=\"addChat\" id=\"msg_form\">\n        <b-form-input id=\"msg_input\" v-model=\"chat\" placeholder=\"type your message\"></b-form-input>\n        <b-button v-on:click=\"addChat\" id=\"msg_button\">Post Message</b-button>\n    </form>\n</div>\n</template>\n\n<script>\n//this.history.scrollTop = this.history.scrollHeight\nimport ChatMessage from './ChatMessage'\nexport default {\n    name: \"ChatBox\",\n    data: function() {\n        return {\n            chatMessages: [],\n            cur_id: 0,\n            chat: \"\"\n        }\n    },\n    props: [\"socket\", \"username\"],\n    watch: {\n      socket(newval, oldval) {\n        this.socket = newval;\n        this.socket.receiveChat = this.receiveChat;\n      }\n    },\n    components: {\n        ChatMessage\n    },\n    methods: {\n        addChat() {\n          this.socket.sendMessage({\n            type: \"userChat\",\n            text: this.chat,\n            username: this.username,\n          })\n        },\n        receiveChat(text, username) { // (from server)\n            var msg_obj = {\n                username: username,\n                message: text,\n                question: text.substr(-1) === '?',\n                id: this.cur_id++ \n            }\n            this.chatMessages.push(msg_obj);\n            var chatdisplay = document.getElementById(\"chatdisplay\");\n            chatdisplay.scrollTop = chatdisplay.scrollHeight;\n        }\n    }\n}\n</script>\n\n<style scoped>\n    #chatbox {\n        position: absolute;\n        margin: 0 auto 0 auto;\n        width: 40%;\n        left: 60%;\n    }\n    form, button {\n        margin-top: 15px\n    }\n    #chatdisplay {\n        min-height: 200px;\n        max-height: 200px;\n        overflow-y: scroll;\n        list-style-type: none;\n    }\n</style>\n"],"sourceRoot":"src/components"}]}