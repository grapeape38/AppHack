{"remainingRequest":"/home/eric/Workspace/edustreamx/node_modules/babel-loader/lib/index.js!/home/eric/Workspace/edustreamx/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/eric/Workspace/edustreamx/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/eric/Workspace/edustreamx/src/components/ChatBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/eric/Workspace/edustreamx/src/components/ChatBox.vue","mtime":1554761339995},{"path":"/home/eric/Workspace/edustreamx/node_modules/cache-loader/dist/cjs.js","mtime":1554753029931},{"path":"/home/eric/Workspace/edustreamx/node_modules/babel-loader/lib/index.js","mtime":1554753029823},{"path":"/home/eric/Workspace/edustreamx/node_modules/cache-loader/dist/cjs.js","mtime":1554753029931},{"path":"/home/eric/Workspace/edustreamx/node_modules/vue-loader/lib/index.js","mtime":1554753030671}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//this.history.scrollTop = this.history.scrollHeight\nimport ChatMessage from './ChatMessage';\nexport default {\n  name: \"ChatBox\",\n  data: function data() {\n    return {\n      chatMessages: [],\n      activeTab: 1,\n      cur_id: 0,\n      chat: \"\"\n    };\n  },\n  props: [\"socket\", \"username\"],\n  watch: {\n    socket: function socket(newval, oldval) {\n      this.socket = newval;\n      this.socket.receiveChat = this.receiveChat;\n    }\n  },\n  components: {\n    ChatMessage: ChatMessage\n  },\n  methods: {\n    addChat: function addChat() {\n      this.socket.sendMessage({\n        type: \"userChat\",\n        text: this.chat,\n        username: this.username\n      });\n      /*testing\n      this.receiveChat(this.chat, this.username);*/\n    },\n    receiveChat: function receiveChat(text, username) {\n      // (from server)\n      var msg_obj = {\n        username: username,\n        message: text,\n        question: text.substr(-1) === '?',\n        id: this.cur_id++\n      };\n      this.chatMessages.push(msg_obj);\n      var chatdisplay = document.getElementById(\"chatdisplay\");\n      chatdisplay.scrollTop = chatdisplay.scrollHeight;\n    }\n  }\n};",{"version":3,"sources":["ChatBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA,OAAA,WAAA,MAAA,eAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,CAFA;AAGA,MAAA,MAAA,EAAA,CAHA;AAIA,MAAA,IAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,KAAA,EAAA,CAAA,QAAA,EAAA,UAAA,CAVA;AAWA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,kBACA,MADA,EACA,MADA,EACA;AACA,WAAA,MAAA,GAAA,MAAA;AACA,WAAA,MAAA,CAAA,WAAA,GAAA,KAAA,WAAA;AACA;AAJA,GAXA;AAiBA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAjBA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,WAAA,MAAA,CAAA,WAAA,CAAA;AACA,QAAA,IAAA,EAAA,UADA;AAEA,QAAA,IAAA,EAAA,KAAA,IAFA;AAGA,QAAA,QAAA,EAAA,KAAA;AAHA,OAAA;AAKA;;AAEA,KATA;AAUA,IAAA,WAVA,uBAUA,IAVA,EAUA,QAVA,EAUA;AAAA;AACA,UAAA,OAAA,GAAA;AACA,QAAA,QAAA,EAAA,QADA;AAEA,QAAA,OAAA,EAAA,IAFA;AAGA,QAAA,QAAA,EAAA,IAAA,CAAA,MAAA,CAAA,CAAA,CAAA,MAAA,GAHA;AAIA,QAAA,EAAA,EAAA,KAAA,MAAA;AAJA,OAAA;AAMA,WAAA,YAAA,CAAA,IAAA,CAAA,OAAA;AACA,UAAA,WAAA,GAAA,QAAA,CAAA,cAAA,CAAA,aAAA,CAAA;AACA,MAAA,WAAA,CAAA,SAAA,GAAA,WAAA,CAAA,YAAA;AACA;AApBA;AApBA,CAAA","sourcesContent":["<template>\n<div id=\"chatbox\">\n    <b-nav tabs>\n        <b-nav-item v-on:click=\"activeTab=1\" v-bind:active=\"activeTab===1\">Chat</b-nav-item>\n        <b-nav-item v-on:click=\"activeTab=2\" v-bind:active=\"activeTab===2\">Participants</b-nav-item>\n    </b-nav>\n    <div v-if=\"activeTab===1\">\n        <b-list-group id=\"chatdisplay\">\n            <ChatMessage\n                v-for=\"msg in chatMessages\"\n                v-bind:key=\"msg.id\"\n                v-bind:message=\"msg.username + ': ' + msg.message\"\n                v-bind:question=\"msg.question\"\n            ></ChatMessage>\n        </b-list-group>\n        <form v-on:submit=\"addChat\" id=\"msg_form\">\n            <b-form-input id=\"msg_input\" v-model=\"chat\" placeholder=\"type your message\"></b-form-input>\n            <b-button v-on:click=\"addChat\" id=\"msg_button\">Post Message</b-button>\n        </form>\n    </div>\n</div>\n</template>\n\n<script>\n//this.history.scrollTop = this.history.scrollHeight\nimport ChatMessage from './ChatMessage'\nexport default {\n    name: \"ChatBox\",\n    data: function() {\n        return {\n            chatMessages: [],\n            activeTab: 1,\n            cur_id: 0,\n            chat: \"\"\n        }\n    },\n    props: [\"socket\", \"username\"],\n    watch: {\n      socket(newval, oldval) {\n        this.socket = newval;\n        this.socket.receiveChat = this.receiveChat;\n      }\n    },\n    components: {\n        ChatMessage\n    },\n    methods: {\n        addChat() {\n          this.socket.sendMessage({\n            type: \"userChat\",\n            text: this.chat,\n            username: this.username,\n          })\n          /*testing\n          this.receiveChat(this.chat, this.username);*/\n        },\n        receiveChat(text, username) { // (from server)\n            var msg_obj = {\n                username: username,\n                message: text,\n                question: text.substr(-1) === '?',\n                id: this.cur_id++ \n            }\n            this.chatMessages.push(msg_obj);\n            var chatdisplay = document.getElementById(\"chatdisplay\");\n            chatdisplay.scrollTop = chatdisplay.scrollHeight;\n        }\n    }\n}\n</script>\n\n<style scoped>\n    div {\n        height:100%;\n    }\n    #chatbox {\n        width: 30%;\n        float: right;\n    }\n    form, button {\n        margin-top: 15px\n    }\n    #chatdisplay {\n        height:70%;\n        overflow-y: scroll;\n        list-style-type: none;\n    }\n</style>\n"],"sourceRoot":"src/components"}]}