{"remainingRequest":"/home/eric/Workspace/edustreamx/node_modules/thread-loader/dist/cjs.js!/home/eric/Workspace/edustreamx/node_modules/babel-loader/lib/index.js!/home/eric/Workspace/edustreamx/node_modules/eslint-loader/index.js??ref--13-0!/home/eric/Workspace/edustreamx/src/canvas.js","dependencies":[{"path":"/home/eric/Workspace/edustreamx/src/canvas.js","mtime":1554787346109},{"path":"/home/eric/Workspace/edustreamx/node_modules/cache-loader/dist/cjs.js","mtime":1554753029931},{"path":"/home/eric/Workspace/edustreamx/node_modules/thread-loader/dist/cjs.js","mtime":1554753030639},{"path":"/home/eric/Workspace/edustreamx/node_modules/babel-loader/lib/index.js","mtime":1554753029823},{"path":"/home/eric/Workspace/edustreamx/node_modules/eslint-loader/index.js","mtime":1554753030083}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.fill\";\nimport _classCallCheck from \"/home/eric/Workspace/edustreamx/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/eric/Workspace/edustreamx/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\n\nvar CanvasDraw =\n/*#__PURE__*/\nfunction () {\n  function CanvasDraw(canvas, width, height) {\n    var _this = this;\n\n    _classCallCheck(this, CanvasDraw);\n\n    this.canvas = canvas;\n    this.ctx = canvas.getContext('2d');\n    this.color = \"black\";\n    this.pensize = 5;\n    this.pts = [];\n\n    this.canvas.onmousedown = function (e) {\n      return _this.pen = true;\n    };\n\n    this.canvas.onmouseup = function (e) {\n      _this.pen = false;\n      _this.pts[_this.pts.length - 1].end = true;\n    };\n\n    this.canvas.onmousemove = function (e) {\n      if (_this.pen) _this.pts.push({\n        x: e.offsetX,\n        y: e.offsetY,\n        color: _this.color,\n        pensize: _this.pensize\n      });\n\n      _this.repaint();\n    };\n\n    this.resize(width, height);\n  }\n\n  _createClass(CanvasDraw, [{\n    key: \"resize\",\n    value: function resize(width, height) {\n      this.canvas.width = width;\n      this.canvas.height = height;\n      this.ctx.fillStyle = 'white';\n      this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n      this.ctx.fill();\n      this.repaint();\n    }\n  }, {\n    key: \"setFGColor\",\n    value: function setFGColor(color) {\n      this.color = color;\n    }\n  }, {\n    key: \"setPenSize\",\n    value: function setPenSize(size) {\n      this.pensize = size;\n    }\n  }, {\n    key: \"clearCanvas\",\n    value: function clearCanvas() {\n      this.ctx.fillStyle = 'white';\n      this.ctx.fillRect(0, 0, canvas.width, canvas.height);\n      this.ctx.fill();\n      this.pts = [];\n    }\n  }, {\n    key: \"repaint\",\n    value: function repaint() {\n      if (this.pts.length == 0) return;\n      this.ctx.strokeStyle = this.pts[0].color;\n      this.ctx.lineWidth = this.pts[0].pensize;\n      this.ctx.beginPath();\n\n      for (var i = 1; i < this.pts.length; i++) {\n        var prev = this.pts[i - 1];\n        var curr = this.pts[i];\n        this.ctx.strokeStyle = prev.color;\n        this.ctx.lineWidth = prev.pensize;\n\n        if (prev.end || prev.color != curr.color || prev.pensize != curr.pensize) {\n          this.ctx.stroke();\n          this.ctx.beginPath();\n        } else {\n          this.ctx.moveTo(prev.x, prev.y);\n          this.ctx.lineTo(curr.x, curr.y);\n        }\n      }\n\n      this.ctx.stroke();\n    }\n  }]);\n\n  return CanvasDraw;\n}();\n\nexport default CanvasDraw;",{"version":3,"sources":["/home/eric/Workspace/edustreamx/src/canvas.js"],"names":["CanvasDraw","canvas","width","height","ctx","getContext","color","pensize","pts","onmousedown","e","pen","onmouseup","length","end","onmousemove","push","x","offsetX","y","offsetY","repaint","resize","fillStyle","fillRect","fill","size","strokeStyle","lineWidth","beginPath","i","prev","curr","stroke","moveTo","lineTo"],"mappings":"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","sourcesContent":["class CanvasDraw {\n    constructor(canvas, width, height) {\n        this.canvas = canvas\n        this.ctx = canvas.getContext('2d')\n        this.color = \"black\"\n        this.pensize = 5\n\n        this.pts = []\n        this.canvas.onmousedown = (e) => this.pen = true;\n        this.canvas.onmouseup = (e) => {\n            this.pen = false;\n            this.pts[this.pts.length - 1].end = true;\n        }\n        this.canvas.onmousemove = (e) => {\n            if (this.pen) this.pts.push({ x : e.offsetX, y : e.offsetY, color: this.color, pensize: this.pensize});\n            this.repaint();\n        }\n        this.resize(width, height);\n    }\n\n    resize(width, height) {\n      this.canvas.width = width; \n      this.canvas.height = height; \n      this.ctx.fillStyle = 'white'\n      this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n      this.ctx.fill()\n      this.repaint()\n    }\n\n    setFGColor(color) {\n        this.color = color\n    }\n\n    setPenSize(size) {\n      this.pensize = size\n    }\n\n    clearCanvas() {\n        this.ctx.fillStyle =  'white'\n        this.ctx.fillRect(0, 0, canvas.width, canvas.height);\n        this.ctx.fill()\n        this.pts = []\n    }\n    \n    repaint() {\n      if (this.pts.length == 0)\n        return;\n      this.ctx.strokeStyle = this.pts[0].color\n      this.ctx.lineWidth = this.pts[0].pensize\n      this.ctx.beginPath()\n      for (var i = 1; i < this.pts.length; i++) {\n        var prev = this.pts[i-1];\n        var curr = this.pts[i];\n        this.ctx.strokeStyle = prev.color;\n        this.ctx.lineWidth = prev.pensize;\n        if (prev.end || prev.color != curr.color || prev.pensize != curr.pensize) {\n          this.ctx.stroke();\n          this.ctx.beginPath();\n        }\n        else {\n          this.ctx.moveTo(prev.x, prev.y);\n          this.ctx.lineTo(curr.x, curr.y);\n        }\n      }\n      this.ctx.stroke();\n    }\n}\n\nexport default CanvasDraw"]}]}